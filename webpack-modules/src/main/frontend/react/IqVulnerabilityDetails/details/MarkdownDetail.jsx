/*
 * Copyright (c) 2011-present Sonatype, Inc. All rights reserved.
 * Includes the third-party code listed at http://links.sonatype.com/products/clm/attributions.
 * "Sonatype" is a trademark of Sonatype, Inc.
 */
/* eslint react/prop-types: 0 */
import React from 'react';
import { NxFontAwesomeIcon } from '@sonatype/react-shared-components';
import { faExclamationCircle } from '@fortawesome/free-solid-svg-icons';

import RenderDetail from './RenderDetail';
import RenderMarkdown from 'MainRoot/react/RenderMarkdown';

const MarkdownDetail = function MarkdownDetail({ title, markdown, componentSpecificMarkdown, warning }) {
  return markdown || componentSpecificMarkdown ? (
    <RenderDetail title={title}>
      {/*
          This fragment is so that RenderDetail wraps this all in one .nx-read-only__data, not each piece separately
        */}
      <>
        {warning && (
          <p className="nx-p iq-vulnerability-details__warning">
            <NxFontAwesomeIcon icon={faExclamationCircle} />
            <span>
              <strong>Warning:</strong> {warning}
            </span>
          </p>
        )}
        {markdown && <RenderMarkdown className="iq-vulnerability-details__html-detail">{markdown}</RenderMarkdown>}
        {componentSpecificMarkdown && (
          <RenderMarkdown className="iq-vulnerability-details__html-detail">{componentSpecificMarkdown}</RenderMarkdown>
        )}
      </>
    </RenderDetail>
  ) : null;
};

export default MarkdownDetail;
