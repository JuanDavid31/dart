/*
 * Copyright (c) 2011-present Sonatype, Inc. All rights reserved.
 * Includes the third-party code listed at http://links.sonatype.com/products/clm/attributions.
 * "Sonatype" is a trademark of Sonatype, Inc.
 */
/* eslint react/prop-types: 0 */
import React, { Children } from 'react';
import { NxFontAwesomeIcon, NxReadOnly, NxTooltip } from '@sonatype/react-shared-components';

const RenderDetail = function RenderDetail({ title, children, titleIcon, tooltipText, isRestricted, isShort }) {
  return children && Children.count(children) ? (
    <NxReadOnly className={isRestricted ? 'iq-left-details-cwe' : null}>
      <NxReadOnly.Label>
        {title}

        {titleIcon && (
          <NxTooltip title={tooltipText}>
            <NxFontAwesomeIcon className="iq-vulnerability-details__render-detail__info-icon-black" icon={titleIcon} />
          </NxTooltip>
        )}
      </NxReadOnly.Label>
      {Children.map(
        children,
        (child, idx) =>
          child && (
            <NxReadOnly.Data key={`render-detail-child-${idx}`} className={isShort ? 'iq-left-details' : null}>
              {child}
            </NxReadOnly.Data>
          )
      )}
    </NxReadOnly>
  ) : null;
};

export default RenderDetail;
