/*
 * Copyright (c) 2011-present Sonatype, Inc. All rights reserved.
 * Includes the third-party code listed at http://links.sonatype.com/products/clm/attributions.
 * "Sonatype" is a trademark of Sonatype, Inc.
 */
import React, { useState } from 'react';
import { NxFontAwesomeIcon } from '@sonatype/react-shared-components';
import './SolutionSubmenu.scss';
import { faChevronRight } from '@fortawesome/pro-regular-svg-icons';
import SolutionSubmenuItem from '../SolutionSubmenuItem/SolutionSubmenuItem';
import SolutionLogoMap from '../SolutionSwitcherLogoMap';
import DOMPurify from 'dompurify';
var SolutionSubmenu = function (_a) {
    var solutionInstances = _a.solutionInstances, name = _a.name, id = _a.id;
    var _b = useState(false), isSubMenuVisible = _b[0], setSubMenuVisibility = _b[1];
    var handleMouseEnter = function () {
        setSubMenuVisibility(true);
    };
    var handleMouseLeave = function () {
        setSubMenuVisibility(false);
    };
    var handleKeyDown = function (event) {
        if (event.key === 'Enter') {
            setSubMenuVisibility(!isSubMenuVisible);
        }
        else if (event.key === 'Escape') {
            setSubMenuVisibility(false);
        }
    };
    return (React.createElement("div", { className: "spp-solution-submenu nx-dropdown-button", role: "button", onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, onKeyDown: handleKeyDown, tabIndex: 0 },
        React.createElement("div", { className: "spp-solution-submenu-logo-container" },
            React.createElement("span", { dangerouslySetInnerHTML: { __html: DOMPurify.sanitize(SolutionLogoMap[id]) } })),
        name,
        React.createElement(NxFontAwesomeIcon, { icon: faChevronRight }),
        isSubMenuVisible && (React.createElement("div", { className: "spp-solution-submenu-item-container nx-dropdown-menu", role: "menu" }, solutionInstances.map(function (_a, index) {
            var url = _a.url, name = _a.name;
            return (React.createElement(SolutionSubmenuItem, { key: index, url: url, name: name, id: id }));
        })))));
};
export default SolutionSubmenu;
//# sourceMappingURL=SolutionSubmenu.js.map